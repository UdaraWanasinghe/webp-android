//
// Created by udara on 6/16/23.
//

#pragma once

#include <string>
#include <jni.h>
#include <webp/encode.h>

enum ResultCode {
    RESULT_SUCCESS = 0,
    RESULT_FILE_EXISTS,
    RESULT_FILE_NOT_FOUND,
    ERROR_NULL_ENCODER,
    ERROR_VERSION_MISMATCH,
    ERROR_BITMAP_INFO_EXTRACT_FAILED,
    ERROR_INVALID_BITMAP_FORMAT,
    ERROR_BITMAP_RESIZE_FAILED,
    ERROR_LOCK_BITMAP_PIXELS_FAILED,
    ERROR_UNLOCK_BITMAP_PIXELS_FAILED,
    ERROR_MEMORY_ERROR,
    ERROR_MARK_ANIMATION_END_FAILED,
    ERROR_ANIMATION_ASSEMBLE_FAILED,
    ERROR_INVALID_WEBP_CONFIG,
    ERROR_WRITE_TO_URI_FAILED,
    ERROR_READ_URI_FAILED,
    ERROR_WEBP_INFO_EXTRACT_FAILED,
    ERROR_WEBP_DECODE_FAILED,
    ERROR_BITMAP_WRITE_TO_URI_FAILED,
    ERROR_NULL_DECODER,
    ERROR_FILE_NAME_GENERATION_FAILED,
    ERROR_OUT_OF_MEMORY,
    ERROR_BITSTREAM_OUT_OF_MEMORY,
    ERROR_NULL_PARAMETER,
    ERROR_INVALID_CONFIGURATION,
    ERROR_BAD_DIMENSION,
    ERROR_PARTITION0_OVERFLOW,
    ERROR_PARTITION_OVERFLOW,
    ERROR_BAD_WRITE,
    ERROR_FILE_TOO_BIG,
    ERROR_USER_ABORT,
    ERROR_LAST,
    ERROR_SET_DECODER_DATA,
    ERROR_DECODER_DATA_SOURCE_NOT_SET
};

namespace res {
    std::string parseMessage(ResultCode result_code);

    void handleResult(JNIEnv *env, ResultCode result);

    ResultCode encodingErrorToResultCode(WebPEncodingError error_code);
}